(function(e){function t(t){for(var a,r,s=t[0],c=t[1],u=t[2],d=0,f=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&f.push(i[r][0]),i[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(a=!1)}a&&(o.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},i={yidong:0},o=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;o.push([1,"chunk-vendors"]),n()})({1:function(e,t,n){e.exports=n("ea7e")},2561:function(e,t,n){"use strict";var a=n("cd56"),i=n.n(a);i.a},"581b":function(e,t,n){"use strict";n("9e76");var a=function(){var e=navigator.userAgent.toLowerCase(),t="ipad"==e.match(/ipad/i),n="iphone os"==e.match(/iphone os/i),a="midp"==e.match(/midp/i),i="rv:1.2.3.4"==e.match(/rv:1.2.3.4/i),o="ucweb"==e.match(/ucweb/i),r="android"==e.match(/android/i),s="windows ce"==e.match(/windows ce/i),c="windows mobile"==e.match(/windows mobile/i);return t||n||a||i||o||r||s||c?"phone":"pc"};"phone"==a()?("/yidong.html"!=window.location.pathname&&(window.location.href="http://"+window.location.host+"/yidong.html"),console.log(window.location)):"/index.html"!=window.location.pathname&&(window.location.href="http://"+window.location.host+"/index.html")},"807b":function(e,t,n){},a643:function(e,t,n){"use strict";var a=n("c201"),i=n.n(a);i.a},c201:function(e,t,n){},cd56:function(e,t,n){},e5ea:function(e,t,n){},e78d:function(e,t,n){"use strict";var a=n("e5ea"),i=n.n(a);i.a},ea7e:function(e,t,n){"use strict";n.r(t);n("e44b"),n("6648"),n("5f54"),n("f0e6");var a=n("0261"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"yidong"}},[n("router-view")],1)},o=[],r={},s=r,c=n("9ca4"),u=Object(c["a"])(s,i,o,!1,null,null,null),l=u.exports,d=n("3f11"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[n("div",{staticClass:"lo"},[n("van-tabs",{attrs:{type:"card",color:"blue","line-height":"20px"},on:{click:e.ii},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[n("van-tab",{attrs:{title:"登陆"}},[n("div",{attrs:{id:"deng"}},[n("van-form",{on:{submit:e.deng}},[n("van-field",{attrs:{name:"username",label:"账号",placeholder:"账号",rules:[{required:!0,message:"请填写账号"}]},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),n("van-field",{attrs:{type:"password",name:"pwd",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("div",{staticStyle:{margin:"16px"}},[n("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[e._v("\n                        登陆\n                        ")])],1)],1)],1)]),n("van-tab",{attrs:{title:"注册"}},[n("div",{attrs:{id:"zhu"}},[n("van-form",{on:{submit:e.zhu}},[n("van-field",{attrs:{name:"user",label:"昵称",placeholder:"昵称",rules:[{required:!0,message:"请填写昵称"}]},model:{value:e.user,callback:function(t){e.user=t},expression:"user"}}),n("van-field",{attrs:{name:"username",label:"账号",placeholder:"账号",rules:[{required:!0,message:"请填写账号"}]},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),n("van-field",{attrs:{type:"password",name:"pwd",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("div",{staticStyle:{margin:"16px"}},[n("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[e._v("\n                        注册\n                        ")])],1)],1)],1)])],1)],1)])},p=[],m=n("bf59"),h={data:function(){return{user:"",username:"",password:"",active:""}},methods:{ii:function(){this.user="",this.username="",this.password=""},deng:function(e){var t=this;this.$store.dispatch("login/getii",e).then((function(e){if(200==e)return Object(m["a"])({type:"success",message:"登陆成功"}),t.$router.push({name:"home"}),!1;400==e&&Object(m["a"])({type:"danger",message:"账号或密码错误"})}))},zhu:function(e){var t=this;console.log("submit",e),this.$store.dispatch("login/setii",e).then((function(e){if(200==e)return Object(m["a"])({type:"success",message:"注册成功"}),t.$router.push({name:"home"}),!1;400==e&&(Object(m["a"])({type:"warning",message:"用户名已存在"}),t.username="",t.password="")}))}}},g=h,v=(n("a643"),Object(c["a"])(g,f,p,!1,null,"51625271",null)),b=v.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("heder",{attrs:{indexs:e.index}}),n("nei"),n("foter",{attrs:{indexs:e.index},on:{"update:indexs":function(t){e.index=t}}})],1)},k=[],x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"rr"},[n("van-nav-bar",{attrs:{title:e.indexs,fixed:"","right-text":"按钮"},on:{"click-right":e.onClickRight}})],1)},y=[],_=n("0a68"),O={props:{indexs:String},methods:{onClickLeft:function(){Object(_["a"])("返回")},onClickRight:function(){Object(_["a"])("按钮")}}},S=O,j=(n("e78d"),Object(c["a"])(S,x,y,!1,null,"187dc07c",null)),M=j.exports,$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("router-view")],1)},T=[],P={},q=P,D=Object(c["a"])(q,$,T,!1,null,"5d33fd9c",null),E=D.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("van-tabbar",{attrs:{route:""},on:{change:e.kk},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[n("van-tabbar-item",{attrs:{replace:"",to:"/sho",icon:"home-o"}},[e._v("首页")]),n("van-tabbar-item",{attrs:{replace:"",to:"/yule",icon:"search"}},[e._v("娱乐")]),n("van-tabbar-item",{attrs:{replace:"",to:"/faxian",icon:"friends-o"}},[e._v("发现")]),n("van-tabbar-item",{attrs:{replace:"",to:"/wo",icon:"setting-o"}},[e._v("我的")])],1)],1)},z=[],L={props:{indexs:String},data:function(){return{active:0}},created:function(){this.$router.push({name:"sho"})},methods:{kk:function(e){0==e&&this.$emit("update:indexs","首页"),1==e&&this.$emit("update:indexs","娱乐"),2==e&&this.$emit("update:indexs","发现"),3==e&&this.$emit("update:indexs","我的")}}},I=L,U=Object(c["a"])(I,C,z,!1,null,"6fbc7a44",null),H=U.exports,N={name:"home",components:{heder:M,nei:E,foter:H},data:function(){return{index:"首页"}}},F=N,R=Object(c["a"])(F,w,k,!1,null,"0ce5e9ff",null),A=R.exports,Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.arr,(function(t,a){return n("ul",{key:a,staticClass:"cc"},[n("li",[n("p",[n("van-icon",{attrs:{size:"35px",name:"https://b.yzcdn.cn/vant/icon-demo-1126.png"}}),n("span",[e._v(e._s(t.author))])],1)]),n("li",[n("dl",{on:{click:function(n){return e.iii(t.id)}}},[n("dd",{staticClass:"one"},[e._v("\n                    \n                    "+e._s(t.title)+"\n                ")]),n("dd",[n("van-image",{attrs:{height:"20vh",src:t.pic}})],1),n("dd",{staticClass:"two van-ellipsis"},[e._v("\n                    "+e._s(t.descript)+"\n                ")])])]),n("van-grid",{attrs:{clickable:"","column-num":1,"icon-size":"18px"}},[n("van-grid-item",{attrs:{icon:"chat-o",badge:"9",text:"评论"},on:{click:function(n){return e.pin(t.id)}}})],1),n("hr",{attrs:{size:"1/"}})],1)})),0)},J=[],V=n("82ae"),B=n.n(V),G=B.a.create({});G.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),G.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)}));var K=G,Q=function(e){return K.request({method:"POST",url:"https://api.it120.cc/lirongsheng/cms/news/list",data:e})},W={data:function(){return{arr:[]}},created:function(){this.gets()},methods:{gets:function(){var e=this;Q().then((function(t){console.log(t),e.arr=t.data.data}))},iii:function(e){this.$router.push({name:"xiang",query:{id:e,kk:!1}})},pin:function(e){this.$router.push({name:"xiang",query:{id:e,kk:!0}})}}},X=W,Z=(n("2561"),Object(c["a"])(X,Y,J,!1,null,"4c1a747e",null)),ee=Z.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("\n    娱乐\n")])},ne=[],ae=function(e){return K.request({method:"get",url:"https://api.apiopen.top/musicRankings",data:e})},ie={created:function(){this.getms()},methods:{getms:function(){ae().then((function(e){console.log(e)}))}}},oe=ie,re=Object(c["a"])(oe,te,ne,!1,null,"7e3f8ff7",null),se=re.exports,ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("\n    发现\n")])},ue=[],le={},de=le,fe=Object(c["a"])(de,ce,ue,!1,null,"320539e0",null),pe=fe.exports,me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("\n    我的\n    "),n("ul",e._l(e.arr,(function(t,a){return n("li",{key:a},[e._v(e._s(t))])})),0)])},he=[],ge={data:function(){return{arr:[]}},created:function(){}},ve=ge,be=Object(c["a"])(ve,me,he,!1,null,"79883bb5",null),we=be.exports,ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"vvv"},[n("div",{staticClass:"rr"},[n("van-nav-bar",{attrs:{title:"详情",fixed:"","left-text":"返回"},on:{"click-left":e.onClickLeft}})],1),n("div",{domProps:{innerHTML:e._s(e.arr.content)}}),n("hr"),n("van-tabbar",[n("van-tabbar-item",{attrs:{icon:"home-o"},on:{click:e.showPopup}},[e._v("查看评论")])],1),n("van-popup",{style:{height:"55%"},attrs:{position:"bottom"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("van-loading",{directives:[{name:"show",rawName:"v-show",value:e.kkk,expression:"kkk"}],attrs:{type:"spinner",color:"#1989fa",vertical:!0}}),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.kkk,expression:"!kkk"}]},[n("van-cell-group",{attrs:{title:"留言"}},[n("van-list",{attrs:{finished:e.finished,"finished-text":"没有更多了"},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.items,(function(t,a){return n("van-cell",{key:a,attrs:{title:"张三",size:"large",label:t.content,value:e._f("formtime")(t.dateAdd),icon:"manager"}})})),1)],1),n("van-tabbar",[n("van-field",{attrs:{rows:"1",autosize:"",label:"留言",type:"textarea",placeholder:"请输入留言"},scopedSlots:e._u([{key:"button",fn:function(){return[n("van-button",{attrs:{size:"small",type:"primary"},on:{click:e.setpinlist}},[e._v("提交")])]},proxy:!0}]),model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)],1)],1)],1)])},xe=[],ye=(n("f548"),n("ad0a")),_e={getUnix:function(){var e=new Date;return e.getTime()},getTodayUnix:function(){var e=new Date;return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e.getTime()},getYearUnix:function(){var e=new Date;return e.setMonth(0),e.setDate(1),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e.getTime()},getLastDate:function(e){var t=new Date(e),n=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,a=t.getDate()<10?"0"+t.getDate():t.getDate();return t.getFullYear()+"-"+n+"-"+a},getFormatTime:function(e){var t=this.getUnix(),n=this.getTodayUnix(),a=(this.getYearUnix(),(t-e)/1e3),i="";return i=a<=0||Math.floor(a/60)<=0?"刚刚":a<3600?Math.floor(a/60)+"分钟前":a>=3600&&e-n>=0?Math.floor(a/3600)+"小时前":a/86400<=31?Math.ceil(a/86400)+"天前":this.getLastDate(e),i}},Oe={bind:function(e,t){e.innerHTML=_e.getFormatTime(1e3*t.value),e.__timeout__=setInterval((function(){e.innerHTML=_e.getFormatTime(1e3*t.value)}),6e4)},unbind:function(e){clearInterval(e.__timeout__),delete e.__timeout__}},Se=n("fed1"),je=n.n(Se),Me=function(e){return K.request({method:"POST",url:"https://api.it120.cc/lirongsheng/cms/news/detail",data:je.a.stringify(e)})},$e=function(e){return K.request({method:"POST",url:"https://api.it120.cc/lirongsheng/comment/list",data:je.a.stringify(e)})},Te=function(e){return K.request({method:"POST",url:"https://api.it120.cc/lirongsheng/comment/add",data:je.a.stringify(e)})},Pe={directives:{Time:Oe},data:function(){return{show:!1,arr:[],item:[],items:[],content:"",pageSize:10,page:0,loading:!1,finished:!1,kkk:!0}},created:function(){this.getlist(),this.onLoad(),1==this.$route.query.kk&&(this.show=!0)},methods:{onClickLeft:function(){this.$router.go(-1)},showPopup:function(){this.show=!0},onLoad:function(){this.page+=1,this.getpinlist()},getlist:function(){var e=this;Me({id:this.$route.query.id}).then((function(t){e.arr=t.data.data}))},getpinlist:function(){var e=this;$e({refId:this.$route.params.id,pageSize:this.pageSize,page:this.page}).then((function(t){var n;console.log(t),(n=e.items).push.apply(n,Object(ye["a"])(t.data.data)),e.loading=!1,e.kkk=!1})).catch((function(t){e.finished=!0}))},setpinlist:function(){var e=this;if(""==this.content)return Object(m["a"])("请输入留言哦~"),!1;Te({refId:this.$route.query.id,content:this.content}).then((function(t){console.log(t),e.items.unshift({content:e.content,dateAdd:"刚刚"}),e.content="",Object(m["a"])({type:"success",message:"评论成功"})}))}},filters:{formtime:function(e){var t=new Date,n=t.getFullYear()+"-",a=(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-",i=t.getDate()+" ",o=t.getHours()+":",r=t.getMinutes()+":",s=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds(),c=n+a+i+o+r+s,u=e;u=u.replace(/-/g,"/");var l=new Date(u);l=l.getTime();var d=c;d=d.replace(/-/g,"/");var f=new Date(d);f=f.getTime();var p=function(){var e=new Date;return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e.getTime()},m=p(),h=(f-l)/1e3,g="";return g=h<=0||Math.floor(h/60)<=0?"刚刚":h<3600?Math.floor(h/60)+"分钟前":h>=3600&&l-m>=0?Math.floor(h/3600)+"小时前":h/86400<=31?Math.ceil(h/86400)+"天前":e,g}}},qe=Pe,De=(n("f64a"),Object(c["a"])(qe,ke,xe,!1,null,"052443cb",null)),Ee=De.exports;a["default"].use(d["a"]);var Ce=d["a"].prototype.push;d["a"].prototype.push=function(e){return Ce.call(this,e).catch((function(e){return e}))};var ze=new d["a"]({routes:[{path:"/",redirect:"/login"},{path:"/login",name:"login",component:b},{path:"/home",name:"home",component:A,redirect:"/sho",children:[{path:"/sho",name:"sho",component:ee,meta:{name:"首页"}},{path:"/yule",name:"yule",component:se,meta:{name:"娱乐"}},{path:"/faxian",name:"faxian",component:pe,meta:{name:"发现"}},{path:"/wo",name:"wo",component:we,meta:{name:"我的"}}]},{path:"/xiang",name:"xiang",component:Ee}]}),Le=n("b6d9"),Ie=(n("b378"),n("f640"),n("ae8c")),Ue=(n("cc57"),function(e){return K.request({method:"POST",url:"https://api.apiopen.top/registerUser",data:je.a.stringify(e)})}),He=function(e){return K.request({method:"POST",url:"https://api.apiopen.top/loginUser",data:je.a.stringify(e)})},Ne={user:sessionStorage.getItem("user"),token:sessionStorage.getItem("token"),username:sessionStorage.getItem("username")},Fe={},Re={setuser:function(e,t){sessionStorage.setItem("token","cd410f43657141df999b6b239b70b71a"),sessionStorage.setItem("user",t.nikeName),sessionStorage.setItem("username",t.name)}},Ae={setii:function(e,t){var n=e.commit;return console.log(t),new Promise((function(e,a){Ue({apikey:"cd410f43657141df999b6b239b70b71a",name:t.username,passwd:t.pwd,nikeName:t.user}).then((function(t){console.log(t),200==t.data.code&&n("setuser",t.data.result),e(t.data.code)}),(function(e){console.log(e)}))}))},getii:function(e,t){var n=e.commit;return new Promise((function(e,a){He({apikey:"cd410f43657141df999b6b239b70b71a",name:t.username,passwd:t.pwd}).then((function(t){console.log(t),200==t.data.code&&n("setuser",t.data.result),e(t.data.code)}),(function(e){console.log(e)}))}))}},Ye={namespaced:!0,state:Ne,mutations:Re,actions:Ae,getters:Fe};a["default"].use(Ie["a"]);var Je=new Ie["a"].Store({state:{},getters:{},mutations:{},actions:{},modules:{login:Ye}});n("6c5f");ze.beforeEach((function(e,t,n){"login"==e.name&&(sessionStorage.clear("token"),sessionStorage.clear("user"),sessionStorage.clear("username")),Object.is(e.name,"login")||sessionStorage.getItem("token")?n():(Object(m["a"])({type:"warning",message:"token失效重新登陆"}),n({path:"/login"}))}));n("581b");a["default"].use(Le["a"]),a["default"].prototype.$istest=!1,console.log("当前NODE_ENV：production"),console.log("当前VUE_APP_CURRENTMODE：prod"),console.log("是否为测试环境："+a["default"].prototype.$istest),a["default"].config.productionTip=!1,new a["default"]({router:ze,store:Je,render:function(e){return e(l)}}).$mount("#yidong")},f640:function(e,t){},f64a:function(e,t,n){"use strict";var a=n("807b"),i=n.n(a);i.a}});